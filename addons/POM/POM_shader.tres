[gd_resource type="VisualShader" load_steps=38 format=3 uid="uid://cgf5uunv4hy4d"]

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_mk7h4"]
parameter_name = "ao_or_orm"
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_8vm41"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_p1kv2"]
linked_parent_graph_frame = 39

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_5x8nc"]
linked_parent_graph_frame = 38
input_name = "color"

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_pe82v"]
linked_parent_graph_frame = 39
function = 1

[sub_resource type="VisualShaderNodeVec2Parameter" id="VisualShaderNodeVec2Parameter_55rx4"]
linked_parent_graph_frame = 39
parameter_name = "UV_scale"
default_value_enabled = true
default_value = Vector2(1, 1)

[sub_resource type="VisualShaderNodeVec2Parameter" id="VisualShaderNodeVec2Parameter_r376u"]
linked_parent_graph_frame = 39
parameter_name = "UV_pan"
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_bqjo4"]
default_input_values = [0, 0.0, 1, 0.04]
linked_parent_graph_frame = 38

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_yefnw"]
linked_parent_graph_frame = 38
parameter_name = "adjust_alpha"
hint = 1
min = -1.0
default_value_enabled = true

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_g7ncl"]
linked_parent_graph_frame = 38
parameter_name = "alpha_or_color_Image_with_alpha"
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_h6y0s"]
expanded_output_ports = [0]
linked_parent_graph_frame = 38
source = 5

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_5x0rb"]
default_input_values = [0, 0.0, 1, 0.04]
linked_parent_graph_frame = 38
operator = 2

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_v7jc8"]
parameter_name = "color"
texture_type = 1
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_uk0vt"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_tl4p5"]
parameter_name = "rough_or_orm"
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_f0ocn"]
parameter_name = "metal_or_orm"
color_default = 1
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_chuml"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeBooleanConstant" id="VisualShaderNodeBooleanConstant_eefcf"]
constant = true

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_ams24"]
parameter_name = "emission"
texture_type = 1
color_default = 1
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_bbmr7"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_t8e0e"]
size = Vector2(1424, 730)
title = "POM"
attached_nodes = PackedInt32Array(5, 27, 26, 25, 24, 23, 9, 6, 2)

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_dju4q"]
size = Vector2(543, 578)
title = "UV adjustments"
attached_nodes = PackedInt32Array(21, 22, 20, 19)

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_1jlrk"]
expanded_output_ports = [0]
source = 5

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_4lv60"]
linked_parent_graph_frame = 38
parameter_name = "depth"
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_bhado"]
linked_parent_graph_frame = 38
source = 5

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_temav"]
parameter_name = "normal"
texture_type = 2
texture_filter = 6

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_7fxbw"]
source = 5

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_l3red"]
linked_parent_graph_frame = 38

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_pglhr"]
linked_parent_graph_frame = 9
size = Vector2(355, 159)
title = "color of each layer"
attached_nodes = PackedInt32Array(5)

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_d83a0"]
linked_parent_graph_frame = 9
input_name = "normal"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_rdy5k"]
linked_parent_graph_frame = 9
input_name = "vertex"

[sub_resource type="VisualShaderNodeMultiplyAdd" id="VisualShaderNodeMultiplyAdd_vnj5i"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0, 0, 0)]
linked_parent_graph_frame = 9
op_type = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_xug5p"]
linked_parent_graph_frame = 10
input_name = "color"

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_lwn5g"]
linked_parent_graph_frame = 9
function = 31

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_kyh8b"]
linked_parent_graph_frame = 9
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_7o7ma"]
linked_parent_graph_frame = 9
parameter_name = "layer_gap"
default_value_enabled = true
default_value = 0.5

[sub_resource type="VisualShaderNodeFrame" id="VisualShaderNodeFrame_tmq43"]
size = Vector2(1044, 479)
title = "control distance between each layer "
attached_nodes = PackedInt32Array(3, 2, 7, 8, 6, 10, 4)

[resource]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform float layer_gap = 0.5;
uniform vec2 UV_scale = vec2(1.000000, 1.000000);
uniform vec2 UV_pan = vec2(0.000000, 0.000000);
uniform sampler2D color : source_color, filter_linear_mipmap_anisotropic;
uniform sampler2D depth : filter_linear_mipmap_anisotropic;
uniform float adjust_alpha : hint_range(-1, 1) = 0;
uniform sampler2D alpha_or_color_Image_with_alpha : filter_linear_mipmap_anisotropic;
uniform sampler2D metal_or_orm : hint_default_black, filter_linear_mipmap_anisotropic;
uniform sampler2D rough_or_orm : filter_linear_mipmap_anisotropic;
uniform sampler2D emission : source_color, hint_default_black, filter_linear_mipmap_anisotropic;
uniform sampler2D ao_or_orm : filter_linear_mipmap_anisotropic;
uniform sampler2D normal : hint_normal, filter_linear_mipmap_anisotropic;



void vertex() {
// Input:2
	vec3 n_out2p0 = NORMAL;


// Input:5
	vec4 n_out5p0 = COLOR;


// FloatFunc:6
	float n_out6p0 = 1.0 - n_out5p0.x;


// FloatParameter:8
	float n_out8p0 = layer_gap;


// FloatOp:7
	float n_out7p0 = n_out6p0 * n_out8p0;


// Input:3
	vec3 n_out3p0 = VERTEX;


// MultiplyAdd:4
	vec3 n_out4p0 = (n_out2p0 * vec3(n_out7p0)) + n_out3p0;


// Output:0
	VERTEX = n_out4p0;


}

void fragment() {
// Vector2Parameter:21
	vec2 n_out21p0 = UV_scale;


// UVFunc:20
	vec2 n_in20p2 = vec2(0.00000, 0.00000);
	vec2 n_out20p0 = (UV - n_in20p2) * n_out21p0 + n_in20p2;


// Vector2Parameter:22
	vec2 n_out22p0 = UV_pan;


// UVFunc:19
	vec2 n_in19p1 = vec2(1.00000, 1.00000);
	vec2 n_out19p0 = n_out22p0 * n_in19p1 + n_out20p0;


	vec4 n_out4p0;
// Texture2D:4
	n_out4p0 = texture(color, n_out19p0);


	vec4 n_out6p0;
// Texture2D:6
	n_out6p0 = texture(depth, n_out19p0);


// Input:2
	vec4 n_out2p0 = COLOR;


// FloatOp:9
	float n_out9p0 = n_out6p0.x + n_out2p0.x;


// FloatParameter:24
	float n_out24p0 = adjust_alpha;


// FloatOp:23
	float n_out23p0 = n_out9p0 + n_out24p0;


	vec4 n_out26p0;
// Texture2D:26
	n_out26p0 = texture(alpha_or_color_Image_with_alpha, n_out19p0);
	float n_out26p4 = n_out26p0.a;


// FloatOp:27
	float n_out27p0 = n_out23p0 * n_out26p4;


	vec4 n_out33p0;
// Texture2D:33
	n_out33p0 = texture(metal_or_orm, n_out19p0);
	float n_out33p3 = n_out33p0.b;


	vec4 n_out30p0;
// Texture2D:30
	n_out30p0 = texture(rough_or_orm, n_out19p0);
	float n_out30p2 = n_out30p0.g;


	vec4 n_out37p0;
// Texture2D:37
	n_out37p0 = texture(emission, n_out19p0);


	vec4 n_out18p0;
// Texture2D:18
	n_out18p0 = texture(ao_or_orm, n_out19p0);
	float n_out18p1 = n_out18p0.r;


	vec4 n_out8p0;
// Texture2D:8
	n_out8p0 = texture(normal, n_out19p0);


// BooleanConstant:34
	bool n_out34p0 = true;


// Output:0
	ALBEDO = vec3(n_out4p0.xyz);
	ALPHA = n_out27p0;
	METALLIC = n_out33p3;
	ROUGHNESS = n_out30p2;
	EMISSION = vec3(n_out37p0.xyz);
	AO = n_out18p1;
	NORMAL_MAP = vec3(n_out8p0.xyz);
	ALPHA_SCISSOR_THRESHOLD = (n_out34p0 ? 1.0 : 0.0);


}
"
graph_offset = Vector2(475.519, 241.744)
nodes/vertex/2/node = SubResource("VisualShaderNodeInput_d83a0")
nodes/vertex/2/position = Vector2(-320, 180)
nodes/vertex/3/node = SubResource("VisualShaderNodeInput_rdy5k")
nodes/vertex/3/position = Vector2(-320, 500)
nodes/vertex/4/node = SubResource("VisualShaderNodeMultiplyAdd_vnj5i")
nodes/vertex/4/position = Vector2(100, 260)
nodes/vertex/5/node = SubResource("VisualShaderNodeInput_xug5p")
nodes/vertex/5/position = Vector2(-660, 220)
nodes/vertex/6/node = SubResource("VisualShaderNodeFloatFunc_lwn5g")
nodes/vertex/6/position = Vector2(-320, 280)
nodes/vertex/7/node = SubResource("VisualShaderNodeFloatOp_kyh8b")
nodes/vertex/7/position = Vector2(-140, 280)
nodes/vertex/8/node = SubResource("VisualShaderNodeFloatParameter_7o7ma")
nodes/vertex/8/position = Vector2(-660, 360)
nodes/vertex/9/node = SubResource("VisualShaderNodeFrame_tmq43")
nodes/vertex/9/position = Vector2(-660, 140)
nodes/vertex/10/node = SubResource("VisualShaderNodeFrame_pglhr")
nodes/vertex/10/position = Vector2(-700, 180)
nodes/vertex/connections = PackedInt32Array(2, 0, 4, 0, 4, 0, 0, 0, 3, 0, 4, 2, 5, 0, 6, 0, 6, 0, 7, 0, 7, 0, 4, 1, 8, 0, 7, 1)
nodes/fragment/0/position = Vector2(1920, 320)
nodes/fragment/2/node = SubResource("VisualShaderNodeInput_5x8nc")
nodes/fragment/2/position = Vector2(520, 260)
nodes/fragment/3/node = SubResource("VisualShaderNodeTexture2DParameter_v7jc8")
nodes/fragment/3/position = Vector2(180, -400)
nodes/fragment/4/node = SubResource("VisualShaderNodeTexture_1jlrk")
nodes/fragment/4/position = Vector2(480, -400)
nodes/fragment/5/node = SubResource("VisualShaderNodeTexture2DParameter_4lv60")
nodes/fragment/5/position = Vector2(200, 40)
nodes/fragment/6/node = SubResource("VisualShaderNodeTexture_bhado")
nodes/fragment/6/position = Vector2(520, 40)
nodes/fragment/7/node = SubResource("VisualShaderNodeTexture2DParameter_temav")
nodes/fragment/7/position = Vector2(160, 2100)
nodes/fragment/8/node = SubResource("VisualShaderNodeTexture_7fxbw")
nodes/fragment/8/position = Vector2(480, 2080)
nodes/fragment/9/node = SubResource("VisualShaderNodeFloatOp_l3red")
nodes/fragment/9/position = Vector2(780, 60)
nodes/fragment/17/node = SubResource("VisualShaderNodeTexture2DParameter_mk7h4")
nodes/fragment/17/position = Vector2(160, 1780)
nodes/fragment/18/node = SubResource("VisualShaderNodeTexture_8vm41")
nodes/fragment/18/position = Vector2(480, 1780)
nodes/fragment/19/node = SubResource("VisualShaderNodeUVFunc_p1kv2")
nodes/fragment/19/position = Vector2(-620, 320)
nodes/fragment/20/node = SubResource("VisualShaderNodeUVFunc_pe82v")
nodes/fragment/20/position = Vector2(-620, 120)
nodes/fragment/21/node = SubResource("VisualShaderNodeVec2Parameter_55rx4")
nodes/fragment/21/position = Vector2(-880, 60)
nodes/fragment/22/node = SubResource("VisualShaderNodeVec2Parameter_r376u")
nodes/fragment/22/position = Vector2(-880, 320)
nodes/fragment/23/node = SubResource("VisualShaderNodeFloatOp_bqjo4")
nodes/fragment/23/position = Vector2(1200, 200)
nodes/fragment/24/node = SubResource("VisualShaderNodeFloatParameter_yefnw")
nodes/fragment/24/position = Vector2(820, 220)
nodes/fragment/25/node = SubResource("VisualShaderNodeTexture2DParameter_g7ncl")
nodes/fragment/25/position = Vector2(200, 380)
nodes/fragment/26/node = SubResource("VisualShaderNodeTexture_h6y0s")
nodes/fragment/26/position = Vector2(520, 380)
nodes/fragment/27/node = SubResource("VisualShaderNodeFloatOp_5x0rb")
nodes/fragment/27/position = Vector2(1380, 260)
nodes/fragment/30/node = SubResource("VisualShaderNodeTexture_uk0vt")
nodes/fragment/30/position = Vector2(480, 1120)
nodes/fragment/31/node = SubResource("VisualShaderNodeTexture2DParameter_tl4p5")
nodes/fragment/31/position = Vector2(160, 1120)
nodes/fragment/32/node = SubResource("VisualShaderNodeTexture2DParameter_f0ocn")
nodes/fragment/32/position = Vector2(160, 820)
nodes/fragment/33/node = SubResource("VisualShaderNodeTexture_chuml")
nodes/fragment/33/position = Vector2(480, 820)
nodes/fragment/34/node = SubResource("VisualShaderNodeBooleanConstant_eefcf")
nodes/fragment/34/position = Vector2(1700, 1000)
nodes/fragment/36/node = SubResource("VisualShaderNodeTexture2DParameter_ams24")
nodes/fragment/36/position = Vector2(160, 1460)
nodes/fragment/37/node = SubResource("VisualShaderNodeTexture_bbmr7")
nodes/fragment/37/position = Vector2(480, 1460)
nodes/fragment/38/node = SubResource("VisualShaderNodeFrame_t8e0e")
nodes/fragment/38/position = Vector2(160, 0)
nodes/fragment/39/node = SubResource("VisualShaderNodeFrame_dju4q")
nodes/fragment/39/position = Vector2(-960.9, -2.59742)
nodes/fragment/connections = PackedInt32Array(7, 0, 8, 2, 3, 0, 4, 2, 5, 0, 6, 2, 8, 0, 0, 9, 17, 0, 18, 2, 4, 0, 0, 0, 2, 0, 9, 1, 6, 0, 9, 0, 20, 0, 19, 0, 22, 0, 19, 2, 19, 0, 4, 0, 19, 0, 6, 0, 21, 0, 20, 1, 19, 0, 18, 0, 19, 0, 8, 0, 9, 0, 23, 0, 24, 0, 23, 1, 25, 0, 26, 2, 23, 0, 27, 0, 27, 0, 0, 1, 31, 0, 30, 2, 32, 0, 33, 2, 18, 1, 0, 6, 30, 2, 0, 3, 33, 3, 0, 2, 26, 4, 27, 1, 19, 0, 26, 0, 19, 0, 30, 0, 19, 0, 33, 0, 36, 0, 37, 2, 19, 0, 37, 0, 37, 0, 0, 5, 34, 0, 0, 19)
